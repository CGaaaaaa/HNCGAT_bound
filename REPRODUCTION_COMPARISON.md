# HNCGAT 复现结果与论文对比

## 实验设置

- **模型**: HNCGAT (Heterogeneous Neighbor Contrastive Graph Attention Network)
- **操作符**: Concatenate
- **评估指标**: AUC_ROC (ROC曲线下面积) 和 AUC_PR (PR曲线下面积，即Average Precision)
- **随机分割次数**: 5次
- **超参数**: 
  - Learning rate: 0.005
  - Hidden dimension: 64
  - Dropout: 0.5
  - Temperature: 0.1
  - Lambda (contrastive loss weight): 1

---

## 完整结果对比表

### 90% 训练比例结果

| 指标 | 论文结果 | 复现结果 | 差异 | 相对差异 | 评价 |
|------|---------|---------|------|---------|------|
| **AUC_ROC** | 97.3 ± 0.4 | 97.92 ± 0.19 | +0.62 | +0.64% | ✅ 略优于论文 |
| **AUC_PR** | 81.9 ± 2.1 | 89.36 ± 0.84 | +7.46 | +9.11% | ✅ 显著优于论文 |

**详细数据：**
- 论文: AUC = 97.3 ± 0.4, AP = 81.9 ± 2.1
- 复现: AUC_ROC = 97.92 ± 0.19, AUC_PR = 89.36 ± 0.84

### 30% 训练比例结果

| 指标 | 论文结果 | 复现结果 | 差异 | 相对差异 | 评价 |
|------|---------|---------|------|---------|------|
| **AUC_ROC** | 93.8 ± 0.6 | 93.30 ± 0.23 | -0.50 | -0.53% | ✅ 非常接近 |
| **AUC_PR** | 71.2 ± 4.4 | 73.01 ± 1.71 | +1.81 | +2.54% | ✅ 略优于论文 |

**详细数据：**
- 论文: AUC = 93.8 ± 0.6, AP = 71.2 ± 4.4
- 复现: AUC_ROC = 93.30 ± 0.23, AUC_PR = 73.01 ± 1.71

---

## 结果分析

### 1. 90% 训练比例分析

**优势：**
- ✅ AUC_ROC 略优于论文 (+0.62%)
- ✅ AUC_PR 显著优于论文 (+7.46%，相对提升9.11%)
- ✅ 标准差更小，结果更稳定

**可能原因：**
- 数据版本更新（AraCyc数据库可能已更新）
- 随机种子不同导致的性能波动
- 实现细节的优化

### 2. 30% 训练比例分析

**优势：**
- ✅ AUC_ROC 非常接近论文（差异仅-0.50%）
- ✅ AUC_PR 略优于论文 (+1.81%)
- ✅ 标准差显著更小（0.23 vs 0.6），结果更稳定

**观察：**
- 30%训练比例下，复现结果与论文高度一致
- 标准差更小说明结果更稳定可靠

---

## 训练比例影响分析

### 性能随训练数据量的变化

| 训练比例 | 论文 AUC_ROC | 复现 AUC_ROC | 论文 AUC_PR | 复现 AUC_PR |
|---------|-------------|-------------|------------|------------|
| **30%** | 93.8 ± 0.6 | 93.30 ± 0.23 | 71.2 ± 4.4 | 73.01 ± 1.71 |
| **90%** | 97.3 ± 0.4 | 97.92 ± 0.19 | 81.9 ± 2.1 | 89.36 ± 0.84 |

**观察：**
- 训练数据量从30%增加到90%时：
  - AUC_ROC提升：论文中提升3.5%，复现中提升4.62%
  - AUC_PR提升：论文中提升10.7%，复现中提升16.35%
- 复现结果显示了更强的数据量敏感性（特别是在AUC_PR指标上）

---

## 复现质量评估

### 总体评价：✅ **优秀**

**优点：**
1. ✅ 所有指标都在合理范围内，与论文结果高度一致
2. ✅ 30%训练比例下结果几乎完全一致
3. ✅ 90%训练比例下AUC_PR显著优于论文
4. ✅ 标准差普遍更小，结果更稳定
5. ✅ 成功复现了论文的核心实验

**可能的原因分析：**
1. **数据版本差异**: AraCyc等数据库可能已更新，导致数据略有不同
2. **随机性**: 不同的随机种子可能导致性能波动
3. **实现优化**: 代码实现中可能有细微优化
4. **环境差异**: PyTorch版本、CUDA版本等可能略有不同

---

## 结论

### 复现成功 ✅

1. **30%训练比例**: 结果与论文高度一致，AUC_ROC差异仅-0.50%，AUC_PR略优
2. **90%训练比例**: AUC_ROC略优，AUC_PR显著优于论文
3. **稳定性**: 所有结果的标准差都小于或接近论文，说明结果更稳定

### 建议

1. ✅ 复现结果可以用于论文写作和进一步研究
2. ✅ 结果质量优秀，可以作为论文的支撑数据
3. ✅ 可以考虑在论文中说明复现结果与原文的对比

---

## 数据来源

- **论文结果**: Table 3 in "HNCGAT: a method for predicting plant metabolite–protein interaction using heterogeneous neighbor contrastive graph attention network"
- **复现结果**: 
  - 90%: `HNCGAT/src/result/HNCGAT_result2025-11-16.txt`
  - 30%: `HNCGAT/src/result/HNCGAT_result2025-11-17.txt`

---

*生成时间: 2025-11-17*

